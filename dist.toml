# cargo-dist configuration for gitnav
# See https://axodotdev.github.io/cargo-dist/book/config.html for documentation

[dist]
# Version of cargo-dist to use in generated CI
cargo-dist-version = "0.13"

# Platforms to build for
targets = [
  "x86_64-unknown-linux-gnu",
  "x86_64-unknown-linux-musl",
  "aarch64-unknown-linux-gnu",
  "x86_64-apple-darwin",
  "aarch64-apple-darwin",
  "x86_64-pc-windows-msvc"
]

# Archive format configuration
unix-archive = "tar.gz"
windows-archive = "zip"

# Generate SHA256 checksums
checksum = "sha256"

# Enable GitHub CI/CD
ci = ["github"]

# Enable Homebrew formula generation
installers = ["homebrew"]

# Optimize build artifacts
all-features = true

# Use host mode to build for the current platform
host-mode = true

# Homebrew configuration
[dist.homebrew]
# Repository URL for the Homebrew tap
tap = "msetsma/gitnav"

# Publish the formula to the tap (requires GitHub token)
publish = true
